<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Padawan coder]]></title>
  <link href="http://ei-lene.github.com/atom.xml" rel="self"/>
  <link href="http://ei-lene.github.com/"/>
  <updated>2013-03-25T14:06:39-04:00</updated>
  <id>http://ei-lene.github.com/</id>
  <author>
    <name><![CDATA[ei-lene]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Rails 3 authentication for n00bs]]></title>
    <link href="http://ei-lene.github.com/blog/2013/03/23/rails-3-authentication-for-n00bs/"/>
    <updated>2013-03-23T18:01:00-04:00</updated>
    <id>http://ei-lene.github.com/blog/2013/03/23/rails-3-authentication-for-n00bs</id>
    <content type="html"><![CDATA[<h3><em>Progressing my ToDoList app - making it work, making it right</em></h3>


<p><img src="http://ei-lene.github.com/images/2013_03_23/password_authentication.png"></p>

<br>


<p>Since I have a sieve-like memory, I really need to take detailed notes and practice practice in order to remember how to do things. Hence, I am trying to apply what we’ve learned through lectures in my ToDoList ‘practice’ app, especially on areas that I haven’t had a chance to personally code in our current group ‘Hand Raise’ project.</p>

<p>At the end of my <a href="http://ei-lene.github.com/blog/2013/03/06/my-top-4-rails-tricks-in-my-first-rails-app/">previous blog post on my ToDoList app</a>, my next steps were to:<br>
1)   Change the navigation links so they are conditional<br>
2)   Add authorization for Users to create, edit and delete tasks</p>

<p>But before authorizing users, we first need to authenticate users, and this will be the main body of my post (<a href="#work">making it work</a>). The remainder of my post (<a href="#right">making it right</a>) is about refactoring, conditionally displaying links and some validation pitfalls that tripped me up.</p>

<!--more-->


<p><strong><a name="work">Making it work - Rails 3 Authentication in 4 parts: </a></strong><br>
<strong><em>1) Leveraging Rails 3 functionality</em></strong><br>
Rails 3 includes a <a href="http://api.rubyonrails.org/classes/ActiveModel/SecurePassword/ClassMethods.html - method-i-has_secure_password">has_secure_password class method</a> which simplifies authentication for the beginner and/or the gem-shy.<br>
i) Generate a User model which includes a <strong>password_digest</strong> string field, which is required to leverage the <strong>has_secure_password </strong> functionality<br>
ii)Add <strong>has_secure_password </strong> in the User model<br>
iii) Include (or uncomment) the <strong>bcrypt-ruby </strong> gem in the Gemfile</p>

<p><strong><em>2) Creating logins and sessions</em></strong><br>
The act of logging in is the start of a new user session, which is a virtual model, which means (per my interpretation), that there are specific rules that govern each session, but that there is no need for an actual model, because nothing is persisted into the database.<br>
i) Generate a sessions controller: <code>rails g controller sessions</code><br>
ii) Create a login form in view. Note that you should use the <strong>form_tag</strong> helper instead of the form_for helper because there is no sessions model<br>
iii)In the <em>Sessions controller</em>, write a <strong>create</strong> method, which says:
if a <em>user exists</em> and the <em>password can be authenticated</em> (note that <code>.authenticate</code> is a method given by <code>has_secure_password</code>), then <em>set the user’s id</em> as <em> the user_id of the session</em>.</p>

<figure class='code'><figcaption><span>SessionsController  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">create</span>
</span><span class='line'>  <span class="n">user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">find_by_email</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:email</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>  <span class="k">if</span> <span class="n">user</span> <span class="o">&amp;&amp;</span> <span class="n">user</span><span class="o">.</span><span class="n">authenticate</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:password</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>    <span class="n">session</span><span class="o">[</span><span class="ss">:user_id</span><span class="o">]</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span>
</span><span class='line'>    <span class="n">redirect_to</span> <span class="n">root_url</span><span class="p">,</span> <span class="ss">notice</span><span class="p">:</span><span class="s2">&quot;Logged in!&quot;</span>
</span><span class='line'>  <span class="k">else</span>
</span><span class='line'>    <span class="n">flash</span><span class="o">.</span><span class="n">now</span><span class="o">.</span><span class="n">alert</span> <span class="o">=</span> <span class="s2">&quot;Email or password is invalid&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>iv) Logging out would simply entail setting the session’s user_id to nil: <code>session[:user_id] = nil</code><br>
v) Logging out in views is a bit tricky:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;%=</span> <span class="n">link_to</span> <span class="s2">&quot;Log out&quot;</span><span class="p">,</span> <span class="n">session_path</span><span class="p">(</span><span class="err">“</span><span class="n">current</span> <span class="n">user</span><span class="err">”</span><span class="p">),</span> <span class="nb">method</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span> <span class="o">%&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>&#8211;> even though the session <code>destroy</code> method does not accept any arguments, the <code>session_path</code> expects an argument, so just put any argument in<br>
&#8211;> need to include <strong>method: “delete”</strong> (note that <code>method: :destroy</code> doesn’t work)</p>

<p><strong><em>3) Allowing the application remember that a user logged in</em></strong><br>
Create an instance variable to allow the app to remember who the current user is.<br>
i) In <em>Application Controller</em> (so it is set app-wide), create a <em>private method</em> to <em>store the session’s user_id</em> as the <em>current_user</em>, if session user_id exists.</p>

<figure class='code'><figcaption><span>ApplicationController  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">current_user</span>
</span><span class='line'>  <span class="vi">@current_user</span> <span class="o">||=</span> <span class="no">User</span><span class="o">.</span><span class="n">find_by_id</span><span class="p">(</span><span class="n">session</span><span class="o">[</span><span class="ss">:user_id</span><span class="o">]</span><span class="p">)</span> <span class="k">if</span> <span class="n">session</span><span class="o">[</span><span class="ss">:user_id</span><span class="o">]</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="n">helper_method</span> <span class="ss">:current_user</span>
</span></code></pre></td></tr></table></div></figure>


<p>&#8211;> add a <code>helper_method</code> to allow the method to be accessible to all the Views</p>

<p><strong><em>4) Allowing the application to test if a user is logged in</em></strong><br>
i) In <em>ApplicationController</em>, create a <em>private method</em> <strong>logged_in?</strong> or <strong>authorize</strong> (or anything that is sensibly-named) that tests if a user is logged in.<br>
Either:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="kp">true</span> <span class="k">if</span> <span class="n">current_user</span>
</span></code></pre></td></tr></table></div></figure>


<p>Or:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">redirect_to</span> <span class="n">new_session_path</span> <span class="k">if</span> <span class="n">current_user</span><span class="o">.</span><span class="n">nil?</span>
</span></code></pre></td></tr></table></div></figure>


<p>ii) In each <em>relevant controller</em> (in this case, Lists, Tasks, Users), create a <strong>before_filter</strong> which runs on specific actions with options, e.g.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">before_filter</span> <span class="n">logged_in?</span><span class="p">,</span> <span class="ss">only</span><span class="p">:</span> <span class="o">[</span><span class="ss">:edit</span><span class="p">,</span> <span class="ss">:destroy</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>or:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">before_filter</span> <span class="n">logged_in?</span><span class="p">,</span> <span class="ss">except</span><span class="p">:</span> <span class="o">[</span><span class="ss">:show</span><span class="p">,</span> <span class="ss">:index</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong><a name="right">Making it right - refactoring authentication, conditionally displaying links, validation pitfalls</a></strong><br>
<strong><em>1) Refactoring authentication</em></strong><br>
i) Prettifying routes<br>
To change routes from users/new, sessions/new etc. to signup and login, we need to change the routes and then update the views.<br>
Adding the following routes to the routes file&#8230;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">get</span> <span class="s1">&#39;signup&#39;</span><span class="o">=&gt;</span> <span class="s1">&#39;users#new&#39;</span>
</span><span class='line'><span class="n">get</span> <span class="s1">&#39;login&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;sessions#new&#39;</span>
</span><span class='line'><span class="n">post</span> <span class="s1">&#39;login&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;sessions#create&#39;</span>
</span><span class='line'><span class="n">get</span> <span class="s1">&#39;logout&#39;</span><span class="o">=&gt;</span> <span class="s1">&#39;sessions#destroy&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>&#8230;enables us to refactor our code in Views from&#8230;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;</span><span class="sx">%= link_to &quot;Sign up&quot;, new_user_path %&gt;</span>
</span><span class='line'><span class="sx">&lt;%=</span> <span class="n">link_to</span> <span class="s2">&quot;Log in&quot;</span><span class="p">,</span> <span class="n">new_session_path</span> <span class="sx">%&gt;</span>
</span><span class='line'><span class="sx">&lt;%= link_to &quot;Log out&quot;, session_path(current_user), method: &quot;delete&quot; %&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>to&#8230;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;</span><span class="sx">%= link_to &quot;Sign up&quot;, signup_path %&gt;</span>
</span><span class='line'><span class="sx">&lt;%=</span> <span class="n">link_to</span> <span class="s2">&quot;Log in&quot;</span><span class="p">,</span> <span class="n">login_path</span> <span class="sx">%&gt;</span>
</span><span class='line'><span class="sx">&lt;%= link_to &quot;Log out&quot;, logout_path %&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>ii) Further abstracting methods<br>
We can encapsulate the logic of setting session user_ids in private methods in the ApplicationController:</p>

<figure class='code'><figcaption><span>ApplicationController  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">login</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
</span><span class='line'>  <span class="n">session</span><span class="o">[</span><span class="ss">:user_id</span><span class="o">]</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">logout</span>
</span><span class='line'>  <span class="n">session</span><span class="o">[</span><span class="ss">:user_id</span><span class="o">]</span> <span class="o">=</span> <span class="kp">nil</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>We can then refactor the SessionsController to use these methods.</p>

<p><strong><em>2) Conditionally displaying links</em></strong><br>
I wanted to hide the navigation links for a page if a user is already on that page. The <a href="http://api.rubyonrails.org/classes/ActionView/Helpers/UrlHelper.html">Rails UrlHelper</a> from the ActionView::Helpers were very useful in this regard.</p>

<p>Methods such as <code>link_to_if</code>, <code>link_to_unless</code> and <code>link_to_unless_current</code> provide a lot of options for toggling links on and off.</p>

<p>But to completely hide a link, when a user is on a specific page, I used the <code>current_page?</code> method as follows:</p>

<figure class='code'><figcaption><span>ApplicationController  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;</span><span class="sx">% unless </span><span class="n">current_page?</span><span class="p">(</span><span class="n">root_path</span><span class="p">)</span> <span class="sx">%&gt;</span>
</span><span class='line'><span class="sx">  &lt;li&gt;</span><span class="o">&lt;%=</span> <span class="n">link_to</span> <span class="s2">&quot;Home&quot;</span><span class="p">,</span> <span class="n">root_path</span> <span class="sx">%&gt;&lt;/li&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="sx">% end </span><span class="o">%&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong><em>3) Validation pitfalls</em></strong><br>
In this set of iterations, I have also incorporated additional <a href="http://ei-lene.github.com/blog/2013/03/11/front-end-form-validation-my-top-3-jquery-apis">front-end</a> and back-end validations that we learned a couple of weeks ago.</p>

<p>One problem I encountered was with password validation, where I initially applied</p>

<figure class='code'><figcaption><span>user.rb  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">validates</span> <span class="ss">:password</span><span class="p">,</span> <span class="ss">:length</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:minimum</span> <span class="o">=&gt;</span> <span class="mi">6</span> <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>This broke my ability to assign a user to a task when creating and adding a task to a list. And that took my AGES to debug. Finally, I realized that the user wasn’t saving because the password validation was failing.  I got around it by only validating the password on creation:</p>

<figure class='code'><figcaption><span>user.rb  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">validates</span> <span class="ss">:password</span><span class="p">,</span> <span class="ss">:length</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:minimum</span> <span class="o">=&gt;</span> <span class="mi">6</span> <span class="p">},</span> <span class="ss">:on</span> <span class="o">=&gt;</span> <span class="ss">:create</span>
</span></code></pre></td></tr></table></div></figure>


<p>Another issue I grappled with was the case-sensitivity of emails. I came across <code>:case_sensitive =&gt; false</code>, but <a href="http://pivotallabs.com/standup-5-21-2010-validates-uniqueness-of-and-case-sensitivity/">some</a> (admittedly dated) <a href="http://techblog.floorplanner.com/post/20528527222/case-insensitive-validates-uniqueness-of-slowness">blogs</a> have suggested that it slows down applications, so I have downcased the emails when creating a user, and also downcased the email input when creating a session.</p>

<figure class='code'><figcaption><span>UsersController  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">create</span>
</span><span class='line'>  <span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:user</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>  <span class="vi">@user</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="vi">@user</span><span class="o">.</span><span class="n">email</span><span class="o">.</span><span class="n">downcase</span>
</span><span class='line'>  <span class="vi">@user</span><span class="o">.</span><span class="n">save</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>SessionsController  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">create</span>
</span><span class='line'>  <span class="n">user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">find_by_email</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:email</span><span class="o">].</span><span class="n">downcase</span><span class="p">)</span>
</span><span class='line'>  <span class="c1"># other code omitted</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<p style="font-size: 70%; font-weight: normal">
* source of picture: <a href="http://euroscientist.com/2012/03/picking-a-perfect-password/">On picking a perfect password by Euroscientist</a><br>
Resources:<br>
1) <a href="http://api.rubyonrails.org/classes/ActiveModel/SecurePassword/ClassMethods.html - method-i-has_secure_password">ActiveModel at http://api.rubyonrails.org/</a>
<br>
2) Authentication from scratch prior to Rails 3: <a href="http://railscasts.com/episodes/250-authentication-from-scratch">RailsCasts</a> / <a href="http://asciicasts.com/episodes/250-authentication-from-scratch">ASCIIcasts</a><br>
3) <a href="http://api.rubyonrails.org/classes/ActionView/Helpers/UrlHelper.html">ActionView at http://api.rubyonrails.org/</a>

</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Front-end form validation - my top 3 JQuery APIs]]></title>
    <link href="http://ei-lene.github.com/blog/2013/03/11/front-end-form-validation-my-top-3-jquery-apis/"/>
    <updated>2013-03-11T22:15:00-04:00</updated>
    <id>http://ei-lene.github.com/blog/2013/03/11/front-end-form-validation-my-top-3-jquery-apis</id>
    <content type="html"><![CDATA[<p>Last week, we had <a href="http://jonathangrover.com/">Jonathan Grover</a> guest lecture us for a week on Javascript and JQuery.</p>

<p>It was a really interesting week during which we learnt how useful Javascript is in improving the user interface and experience, how JQuery resolves issues around Javascript cross-browser compatibility, and applied Javascript and JQuery in many contexts, including interacting with Twitter, Flickr and Google Maps APIs.</p>

<p>One of the practical applications of Javascript / JQuery was in form validations, which we combined with back-end Rails validation. While back-end validation is used to ensure data integrity, front-end validation is used to provide end-users with timely feedback to create a more positive user-experience.</p>

<!--more-->


<p>In designing a simple user sign-up form (as shown at the bottom of this post), my top 3 JQuery APIs to provide appropriate and timely user feedback are the following:<br>
<a href="#submit">.submit()</a><br>
<a href="#blur">.blur()</a><br>
<a href="#keyup">.keyup()</a><br></p>

<p><a name="submit"><strong>.submit()</strong></a><br>
<code>.submit()</code> provides users with feedback upon submission of the form. Be sure to use <code>&amp;</code> instead of <code>&amp;&amp;</code> so that users get all the error messages at once. – There is nothing more annoying than to get drip-fed error messages each time you click ‘submit’.</p>

<figure class='code'><figcaption><span>.submit()  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="c1">// other code truncated (including definition of functions)</span>
</span><span class='line'>  <span class="nx">newUserForm</span><span class="p">.</span><span class="nx">submit</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="nx">validateUsername</span><span class="p">()</span> <span class="o">&amp;</span> <span class="nx">validateFirstname</span><span class="p">()</span> <span class="o">&amp;</span> <span class="nx">validateLastname</span><span class="p">()</span> <span class="o">&amp;</span> <span class="nx">validateEmail</span><span class="p">()</span> <span class="o">&amp;</span> <span class="nx">validatePassword</span><span class="p">())</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p><a name="blur"><strong>.blur()</strong></a><br>
I would argue that giving users feedback upon submission is too late, because it requires the user to go back to the top and reconsider every input field again, which requires more mental effort than if feedback was given at each input field, before the brain is occupied with considering a new topic</p>

<p>To this end, <code>.blur()</code> is very useful. <code>.blur()</code> is triggered when the user leaves a particular form input field, that is, as soon as it appears that a user is ‘done’ with that field.</p>

<figure class='code'><figcaption><span>.blur()  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="c1">// other code truncated (including definition of functions)</span>
</span><span class='line'>  <span class="nx">userName</span><span class="p">.</span><span class="nx">blur</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>    <span class="nx">validateUsername</span><span class="p">();</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">firstName</span><span class="p">.</span><span class="nx">blur</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>    <span class="nx">validateFirstname</span><span class="p">();</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">lastName</span><span class="p">.</span><span class="nx">blur</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>    <span class="nx">validateLastname</span><span class="p">();</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">email</span><span class="p">.</span><span class="nx">blur</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>    <span class="nx">validateEmail</span><span class="p">();</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">password</span><span class="p">.</span><span class="nx">blur</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>    <span class="nx">validatePassword</span><span class="p">();</span>
</span><span class='line'>  <span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>In my code, even though I added <code>.blur()</code> validation for each input field, I also kept my <code>.submit()</code> validation to prevent the form from being submitted unless all conditions were met.</p>

<p><a name="keyup"><strong>.keyup()</strong></a><br>
This provides even more immediate feedback than <code>.blur()</code>, as the feedback can be provided ‘live’ as each key is pressed and released.
Real-time feedback may not be appropriate for every single field. For example, it might be annoying to get a live commentary as you are trying to pick a username.</p>

<p>However, it can be used to great effect for specific cases. For example, it is mostly commonly used to give real-time feedback on password strength as users are choosing their password.</p>

<p>In my form, I chose to use <code>.keyup()</code> during password choice (to indicate password strength, even though I am not requiring a ‘strong’ password), as well as for the validation of confirmation emails and passwords.</p>

<figure class='code'><figcaption><span>.keyup()  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="c1">// other code truncated (including definition of functions)</span>
</span><span class='line'>  <span class="nx">emailInputs</span><span class="p">.</span><span class="nx">keyup</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>    <span class="nx">emailConfVal</span> <span class="o">=</span> <span class="nx">emailConfirmation</span><span class="p">.</span><span class="nx">val</span><span class="p">();</span>
</span><span class='line'>    <span class="nx">emailVal</span> <span class="o">=</span> <span class="nx">email</span><span class="p">.</span><span class="nx">val</span><span class="p">();</span>
</span><span class='line'>    <span class="nx">emailConfError</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="nx">emailVal</span><span class="o">===</span><span class="s1">&#39;&#39;</span><span class="o">||</span><span class="nx">emailConfVal</span><span class="o">===</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">emailConfError</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">emailVal</span> <span class="o">===</span> <span class="nx">emailConfVal</span><span class="p">){</span>
</span><span class='line'>      <span class="nx">emailConfError</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;Email entries match&quot;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;green&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">emailConfError</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>
</span><span class='line'>      <span class="nx">emailConfError</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;Confirmation email does not match email&quot;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">);</span>
</span><span class='line'>      <span class="nx">emailConfError</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>Finally, I have also used <code>.text()</code> and <code>.addClass()</code> extensively.</p>

<figure class='code'><figcaption><span>.text() & .addClass()  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="c1">// example usage</span>
</span><span class='line'><span class="kd">function</span> <span class="nx">validatePasswordStrength</span><span class="p">(){</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">lowercase</span> <span class="o">=</span> <span class="sr">/[a-z]/</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">uppercase</span> <span class="o">=</span> <span class="sr">/[A-Z]/</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">numeric</span> <span class="o">=</span> <span class="sr">/[0-9]/</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">passwordVal</span> <span class="o">=</span> <span class="nx">password</span><span class="p">.</span><span class="nx">val</span><span class="p">();</span>
</span><span class='line'>    <span class="nx">passwordError</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="nx">lowercase</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">passwordVal</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">uppercase</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">passwordVal</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">numeric</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">passwordVal</span><span class="p">)){</span>
</span><span class='line'>      <span class="nx">passwordError</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;Password strength: Strong&quot;</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">().</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;green&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">lowercase</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">passwordVal</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">uppercase</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">passwordVal</span><span class="p">)){</span>
</span><span class='line'>      <span class="nx">passwordError</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;Password strength: Medium&quot;</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">().</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;amber&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">numeric</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">passwordVal</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">uppercase</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">passwordVal</span><span class="p">)){</span>
</span><span class='line'>      <span class="nx">passwordError</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;Password strength: Medium&quot;</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">().</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;amber&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">numeric</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">passwordVal</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">lowercase</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">passwordVal</span><span class="p">)){</span>
</span><span class='line'>      <span class="nx">passwordError</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;Password strength: Medium&quot;</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">().</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;amber&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">passwordError</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;Password strength: Weak&quot;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>I used <code>.text()</code> to dynamically change the feedback message to the user, indicating whether a password is “weak”, “medium” or “strong”.</p>

<p>I also used <code>.addClass()</code> to give visual feedback to users though changing the styling of feedback messages (in my case, toggling between ‘green’, ‘amber’ and ‘red’ traffic light colors).</p>

<p>Resulting form with errors displayed: <br>
<img src="http://ei-lene.github.com/images/2013_03_11/displaymessages.png"><br></p>

<p style="font-size: 70%; font-weight: normal">
My github code for this form: <a href="https://github.com/ei-lene/validation_app">https://github.com/ei-lene/validation_app</a><br>
Two great resources: <br>
<a href="http://api.jquery.com/"> api.jquery.com</a><br>
<a href="http://oscarotero.com/jquery/">oscar otero</a><br>
</p>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[My top 4 Rails tricks in my first rails app]]></title>
    <link href="http://ei-lene.github.com/blog/2013/03/06/my-top-4-rails-tricks-in-my-first-rails-app/"/>
    <updated>2013-03-06T21:18:00-05:00</updated>
    <id>http://ei-lene.github.com/blog/2013/03/06/my-top-4-rails-tricks-in-my-first-rails-app</id>
    <content type="html"><![CDATA[<h3><em>Make it work, make it right, …</em></h3>


<p>We began learning Rails last week at the <a href="http://flatironschool.com/">Flatiron School</a>, with lectures and a couple of guided Rails labs / tutorials.</p>

<p>In this post, I will outline the key development stages* of my first ever non-guided , albeit simple, Rails app (a ToDoList app) and my top tricks &amp; workarounds for the current version of the app.</p>

<p><strong> TL;DR:</strong><br>
Top 4 tricks: <a href="#f.select">f.select</a> ; <a href="#f.hidden_field">f.hidden_field</a>, <a href="#to_param">to_param</a>, <a href="#button_to">button_to</a></p>

<p><strong><a href="http://en.wikipedia.org/wiki/The_Full_Monty">The Full Monty&#8230;</a></strong><br></p>

<!--more-->


<p>As I’m sure most fledgling coders will sympathise with, it seems to be that the biggest hurdle when trying to programme an app (with limited or no guidance) is the ‘coder&#8217;s block’. The coder’s version of <a href="http://en.wikipedia.org/wiki/Watership_Down">going tharn</a>  at the sight of a blank text-editor. What seemed doable (not to say easy) enough in a guided tutorial, suddenly seems impossible – where do I begin? what do I do?</p>

<p>After several weeks of countless panic attacks as part of my course, I am slowly beginning to learn to deal with my coder’s block, through the following mantras:<br>
1)  breathe… <a href="http://en.wikipedia.org/wiki/Keep_Calm_and_Carry_On">Keep Calm and Carry On</a><br>
2)  <a href="http://c2.com/cgi/wiki?MakeItWorkMakeItRightMakeItFast">Make It Work, Make It Right, Make It Fast </a></p>

<p>On the second mantra, my key takeaway was that even great programmers recognise that Rome wasn’t build in a day, so for me, for now, I just need to Make It Work, <em>by any means necessary</em>. Even if I have use brute force** to machete my way through, the first step is to get it working.</p>

<p><strong>.v001</strong><br>
<strong><em>Making it work:</em></strong><br>
With that in mind, the first major iteration of my ToDoList app was minimalistic to the extreme***. My only aims were: <br>
1)  To create lists and show them on the home page<br>
2)  To add tasks to lists<br>
<img src="http://ei-lene.github.com/images/2013_03_06/v1_home.png"><br>
<img src="http://ei-lene.github.com/images/2013_03_06/v1_addtasks.png"></p>

<p><strong><em>Key issues / next steps:</em></strong><br>
1)  The unordered list was clearly a bad idea – users would have to guess and/or remember the number of the list they want to add their task to<br>
2)  The lists should be ordered and should be displayed on the ‘Add tasks’ page<br></p>

<p><strong>.v002</strong><br>
<strong><em>Making it right:</em></strong><br>
<a name="f.select"><em>Top Trick #1 – <code>f.select</code></em></a><br>
When discussing the lab in class, I mentioned that I was intending to add radio buttons to the Task <code>new.html.erb</code> page so users can choose the list to add their task to.
<a href="https://twitter.com/aviflombaum">Avi</a> suggested using a drop-down menu instead, and showed briefly walked through the <code>f.select</code> option in the Rails <code>form_for</code> helper</p>

<p>Thus, with a short line of code, I significantly improved my user experience and interface:</p>

<figure class='code'><figcaption><span>new.html.erb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">select</span> <span class="ss">:list_id</span><span class="p">,</span> <span class="no">List</span><span class="o">.</span><span class="n">all</span><span class="o">.</span><span class="n">collect</span> <span class="p">{</span> <span class="o">|</span><span class="n">l</span><span class="o">|</span> <span class="o">[</span><span class="n">l</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">l</span><span class="o">.</span><span class="n">id</span><span class="o">]</span><span class="p">}</span> <span class="o">%&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p><img src="http://ei-lene.github.com/images/2013_03_06/v2_addtasks.png"></p>

<p><strong><em>Making it work:</em></strong><br>
1) Users should be able to add tasks to a specific list when on that list page<br>
<a name="f.hidden_field"><em>Top Trick #2 – <code>f.hidden_field</code> </em></a><br>
My initial intention was to have an “Add task to this list” link which would redirect to a new route along the lines of <code>/lists/:id/tasks/new</code>.</p>

<p>However, despite my valiant efforts at throwing all sorts of different code permutations and combinations at Rails, the standard <code>new_task_path</code> could not seem to register the fact that it had just been routed from a specific list id, and store that list id.****</p>

<p>As a workaround, I decided to implement a task form on the list show page (<code>show.html.erb</code>) with <code>f.hidden_field(:list_id)</code>, a technique that I learnt in <a href="http://tutorials.jumpstartlab.com/projects/blogger.html">Jumpstart Lab’s blogger tutorial</a> that we were assigned.</p>

<p>And having implemented that, I’ve realised that it works really well, and is more optimal than having to click on a link to an alternate path. Because in this case, each time the user adds a new task to a list, the list page reloads, automatically allowing the user to add another new task to the list.<br>
<img src="http://ei-lene.github.com/images/2013_03_06/v2_addtasktospecificlist.png"></p>

<p>3) Users should be able to delete and edit lists. As an initial testing step, I implemented the ability for users to:<br>
i) delete the entire list only<br>
ii) update list name and existing task descriptions<br>
 <img src="http://ei-lene.github.com/images/2013_03_06/v2_editlist.png"></p>

<p><strong><em>Key issues / next steps:</em></strong><br>
1)  Change the routes of list from id (list/:id) to name (list/:name), to make the routes look more elegant<br>
2)  Flesh out edit list functionality – users should be able to delete individual tasks in a specific list<br></p>

<p><strong>.v003</strong><br>
<strong><em>Making it right:</em></strong><br>
1) Added list routing via <code>permalink</code> (where <code>permalink = name.downcase.gsub(“ “,”-“</code>)<br>
<a name="to_param"><em>Top Trick #3 – <code>to_param</code></em></a><br>
<a href="https://twitter.com/aviflombaum">Avi</a> mentioned in class that you could edit the url routing by editing the to_param method in the relevant model.</p>

<p>I must’ve missed out the second part of his words, because I implemented that, then proceeded to struggle as Rails spat out variants of the following error as I diced and spliced my code creatively to try to get it working:<br>
<img src="http://ei-lene.github.com/images/2013_03_06/error_message.png"></p>

<p>After extensive googling, I found my solution at <a href="http://railscasts.com/episodes/63-model-name-in-url">Railscasts</a>.</p>

<p>I initially used the first method,  implementing <code>"#{id}-#{permalink}"</code> in <code>to_param</code> and retaining the <code>.find(params[:id])</code> in the Controller. But the id of the lists would show up in the url which would not correspond to their position based on the number of existing lists (because deleted lists would retain their unique primary_key id), which I found particularly inelegant.</p>

<p>And so I opted for the second method instead:</p>

<figure class='code'><figcaption><span>list.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">to_param</span>
</span><span class='line'>  <span class="n">permalink</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<figure class='code'><figcaption><span>lists_controller.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">edit</span>
</span><span class='line'>    <span class="vi">@list</span> <span class="o">=</span> <span class="no">List</span><span class="o">.</span><span class="n">find_by_permalink</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p><img src="http://ei-lene.github.com/images/2013_03_06/v3_addtasks.png"></p>

<p><strong><em>Making it work:</em></strong><br>
Added functionality to allow users to delete individual tasks in a specific list, even if the ‘Delete this task’ link was very ugly and incongruous next to the compact ‘Update Task’ submit button.<br>
<img src="http://ei-lene.github.com/images/2013_03_06/v3_editlisttasks.png"></p>

<p><strong><em>Key issues / next steps:</em></strong><br>
1) Change the styling of ‘Delete this task’<br>
2) Improve overall styling</p>

<p><strong>.v004</strong><br>
<strong><em>Making it right:</em></strong><br>
1)  Overall styling improved<br>
<img src="http://ei-lene.github.com/images/2013_03_06/current_list.png"></p>

<p>2) Button generated for ‘Delete Task’ <br>
<a name="button_to"><em>Top Trick #3 – <code>button_to</code></em></a><br>
Before I discovered the delightful <code>button_to</code> option via googling, I thought the only way to generate buttons in rails was to create a <code>f.submit</code> within the <code>form_for</code> helper. And so I tried various ways to implement a <code>method: :delete</code> and routing to <code>task_path(t)</code> within the <code>f.submit</code>.</p>

<p>Eventually, I gave up banging my head on the <code>f.submit</code> wall and tried a different tack - CSS buttons! But I found CSS buttons very unwieldy and impossible to style to match the ‘Update Task’ button.</p>

<p><code>button_to</code> was a life-saver. With one line of elegant code, I managed to generate a lovely Rails-format button:<br>
<code>&lt;%= button_to 'Delete Task', task_path(t), method: :delete %&gt;</code>
<img src="http://ei-lene.github.com/images/2013_03_06/current_editlist.png"></p>

<p><strong><em>Conclusion / Next steps:</em></strong><br>
Even though my ToDoList app is still very basic for now, it has come a long way from the start, as this post has demonstrated. In fact, if I had tried to tackle even all of the basic functionality and UI in the current version of the app, I wouldn’t have dared to begin the project.</p>

<p>Instead, I put on my blinkers and took one baby step at a time. As my classmate <a href="https://twitter.com/janeeats">Jane</a> so aptly puts it: <a href="http://janeeats.github.com/blog/2013/02/24/how-to-eat-an-elephant/">“How Do You Eat an Elephant? One Bite at a Time.”</a></p>

<p>So far, I have only been iterating through the process of making it work and making it right, as I’m not yet at the stage where I have the skills (or the project complexity) to make it fast.</p>

<p><strong><em>Next steps:</em></strong><br>
1) Change the navigation links so that they are conditional – e.g. links to Home don’t show up when a user is already on the home page<br>
2) Add authorisation for Users to create, edit and delete lists<br></p>

<p>Note: Github’s rollback has been invaluable in the creation of this post, namely the commands: <code>git reset –-hard &lt;commit sha id&gt;</code> &amp; <code>git push -f</code></p>

<p style="font-size: 70%; font-weight: normal">
* In reality, there were a lot of mini-steps / stages. But in the interest of simplicity, and because I didn’t commit often enough to be able to rollback commits to each mini stage, I am grouping the changes into 4 stages<br>
** The phrase &#8220;brute force&#8221; is attributable to my classmate <a href="http://rseshan.github.com/">Rahul</a><br>
*** With bare bones styling, because the white background and default serif fonts give me a headache<br>
**** I spoke to <a href="https://twitter.com/withloudhands">Bob</a> about this on Monday, and he told me that this would needed to be done via nested routes, a topic which will covered in future<br>
</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Q&amp;A Quickie - about object ids]]></title>
    <link href="http://ei-lene.github.com/blog/2013/02/19/q-and-a-quickie-about-object-ids/"/>
    <updated>2013-02-19T23:49:00-05:00</updated>
    <id>http://ei-lene.github.com/blog/2013/02/19/q-and-a-quickie-about-object-ids</id>
    <content type="html"><![CDATA[<p>I became intrigued about object ids when I was researching into the <code>.equal?</code> operator in <a href="http://ei-lene.github.com/blog/2013/02/08/all-equalities-are-equal/">my earlier post on Ruby equalities</a>, and also when I was wading through <a href="http://rubykoans.com/">Ruby Koans’ </a>about_object.rb.</p>

<p>And so, here’s my summary on the questions I had, and the answers that my research yielded:<br>
<a href="#q1">1) What is an object id?</a><br>
<a href="#q2">2) Why is true.object_id != 1?</a><br>
<a href="#q3">3) Which objects have fixed object_ids, and what are the practical implications?</a></p>

<!--more-->


<p><strong><a name="q1">1) What is an object id?</a></strong><br>
An object id is a unique identifier for an object, much like a fingerprint. All objects have an object id. In Ruby, the method
<code>.object_id</code> returns an object’s unique identifier, which is presented by a number or a string of numbers.</p>

<p><strong><a name="q2">2) Why is true.object_id != 1?</a></strong><br>
Given that true and false are a fundamental part of most programming languages, I expected the object id for true to be 1, and the object id for false to be 0.</p>

<p>So it surprised me to find that while <code>false.object_id == 0</code>, <code>true.object_id == 2</code>, and <code>nil.object_id == 4</code>. Why do true and nil have such strange object ids?</p>

<p>The reason for that is that the other, perhaps more obvious numbers (like 1 and 2) are taken up by integers due to the pattern for Fixnum (integer) object ids.</p>

<p>As was tested in Ruby Koans’ about_object.rb, in Ruby, the object ids for integers (i) follow the pattern: <code>i * 2 +1</code>
such that:
<img src="http://ei-lene.github.com/images/2013_02_19/fixnum1.png"></p>

<p>This pattern also holds true for negative integers:
<img src="http://ei-lene.github.com/images/2013_02_19/fixnum2.png"></p>

<p><strong><a name="q3">3) Which objects have fixed object_ids, and what are the practical implications?</a></strong><br>
As part of my earlier post on Ruby equalities, I tinkered around a lot with <code>.object_id</code> in irb, researching the application of the <code>.equal?</code> operator.</p>

<p>Overall, objects seem to fall into 3 categories:<br>
<a href="fixed">i)  those with fixed object ids</a><br>
<a href="#temporary">ii) those with temporarily fixed object ids</a><br>
<a href="#changing">iii)  those with changing object ids</a></p>

<p><em><a name="fixed">Objects with Fixed object ids:</a></em><br>
<em>1) Fixnum</em><br>
As mentioned above, integers have fixed object ids.</p>

<p><em>2) Symbols</em><br>
Once created, symbols have immutable object ids, which will remain constant, even if the values have been reassigned.</p>

<p>For example:<br>
<img src="http://ei-lene.github.com/images/2013_02_19/symbols.png"><br>
In all cases, the object_id of the symbol name is identical</p>

<p><em><a name="temporary">Objects with temporarily fixed object ids:</a></em><br>
<em>1) Variables </em><br>
Once created, variables will have the same object id each time it is called, unless the variable has been reassigned, in which case, the variable object id will change. While the variable retains its assigned value, its object id is temporarily constant:<br>
<img src="http://ei-lene.github.com/images/2013_02_19/variables1.png"><br>
If a variable is assigned to a Fixnum, the variable will take on that Fixnum’s object id: <br>
<img src="http://ei-lene.github.com/images/2013_02_19/variables2.png"><br>
This will also apply in the case where a variable is assigned to a symbol:<br>
<img src="http://ei-lene.github.com/images/2013_02_19/variables3.png"></p>

<p><em>2) Arrays</em><br>
Like variables, arrays have a temporarily fixed object id while the contents of the array have not changed: <br>
<img src="http://ei-lene.github.com/images/2013_02_19/arrays.png"></p>

<p><em>3) Hashes</em><br>
Like variables and arrays, hashes have a temporarily fixed object id while the contents of the array have not changed:<br>
<img src="http://ei-lene.github.com/images/2013_02_19/hashes.png"></p>

<p><em><a name="changing">Objects with changing object ids:</a></em><br>
1) Floats<br>
Floats have new and different object ids, each time they are called:<br>
<img src="http://ei-lene.github.com/images/2013_02_19/floats.png"></p>

<p><em>2) Strings</em><br>
Strings have new and different object ids, each time they are called: <br>
<img src="http://ei-lene.github.com/images/2013_02_19/strings.png"></p>

<p><em>3) Instances of an object</em><br>
A new object, once created, behave very much like variables – they have the same object id each time they are called, as long as they have not been modified. Each iteration of the object will result in a temporarily fixed object id:<br>
<img src="http://ei-lene.github.com/images/2013_02_19/objectinstances1.png"></p>

<p>However, each instance of an object, including clones of another object, have their own unique object id:<br>
<img src="http://ei-lene.github.com/images/2013_02_19/objectinstances2.png"></p>

<p><em>Implications / applications:</em><br>
As far as I know, the primary (most common) application of the above object id properties, are in the usage of symbols rather than strings for naming things or representing data.</p>

<p>Given that symbols have an immutable object id once they are created, whereas strings have a different and individual object id each time they are called, symbols take up less space in the computer’s memory. Hence, we should use symbols instead of strings as hash keys, or attributes – because if the hash key or attribute will be called over and over again, using symbols will significantly increase the performance of the program.</p>

<p>I found <a href="http://www.robertsosinski.com/2009/01/11/the-difference-between-ruby-symbols-and-strings/">Robert Sosinki’s tutorial on Symbols vs. Strings </a>particularly illuminating.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Thinking of learning to code?]]></title>
    <link href="http://ei-lene.github.com/blog/2013/02/12/thinking-of-learning-to-code/"/>
    <updated>2013-02-12T13:54:00-05:00</updated>
    <id>http://ei-lene.github.com/blog/2013/02/12/thinking-of-learning-to-code</id>
    <content type="html"><![CDATA[<h3><em>My perspectives – why I’m learning to code at the Flatiron School</em></h3>


<p><img src="http://ei-lene.github.com/images/2013_02_12/thinker.jpg" align="left">
Thinking of learning to code, and wondering if it’s worth the trouble, or if you should go solo or sign up to a course?</p>

<p>I’ve wrestled with these questions before and this post outlines my thought process and why I’m learning to code at the Flatiron School:<br>
<a href="#literacy">global imperative – coding is the new literacy</a><br>
<a href="#empowerment">personal imperative – empowerment rocks, impotence enrages</a><br>
<a href="#exponential">optional – exponential learning</a></p>

<!--more-->


<p><a name="literacy">
  1)  Coding is the new literacy
</a></p>

<p>Avi said on the first day of school that coding is the new literacy. That really resonated with me, because it’s true.</p>

<p>In the not too distant past, before the days of universal education, reading and writing were considered optional luxuries. Now, no one even questions the need for literacy.</p>

<p>When personal computers first came out, they were considered novel gadgets for a small slice of society – the geeks and bandwagoners with spare cash. – Why would a regular person need to use a computer?</p>

<p>Now, everyone uses some form of a personal computer, all the time, whether it be a computer, laptop, tablets, or smartphones. For many young children today, iPads are often more familiar than books.</p>

<p>Technology and software already underpin most of today’s operations, and will only become more ubiquitous, not less so. And so, knowing how to code – to interact with software with more control instead of being a powerless end-user – will soon be imperative.</p>

<p>I’m educating myself for the future. Do you want to be left behind?</p>

<p><a name="empowerment">
  2)  Empowerment vs. impotence
</a></p>

<p>Coding is empowering.</p>

<p>The Boy and I had an idea for a potential start-up several years ago, but neither of us code. More than two years, multiple developers / programming language changes and a large chunk of our savings later, the prototype is mostly built, but still not to our envisioned specifications.</p>

<p>We felt impotent, because we had no control of our project - timeline, deliverables, destiny. And that has been a frustrating and enraging experience.</p>

<p>I wanted to regain control of my life and my destiny, and the first step is to learn how to create.</p>

<p>That was what really pushed me to learn code seriously instead of doing it part time, on weekends – I wanted to be empowered, and coding is empowering.</p>

<p><a name="exponential">
  3)  Exponential learning
</a></p>

<p>When I first told my friends that I was hopping on a plane from London to New York to learn how to code, most of my friends were like: “Why do you need to go to New York? Why can’t you learn to code at home? It’s really easy to learn from a book or the web. The best way to do it is just to code, and you can do that at home, and it’s free.”
I see where they are coming from, and I think that’s definitely a possibility. A lot of really great programmers have learned their craft by themselves. It requires a lot of time, commitment, discipline, and probably a certain type of personality.</p>

<p>Personally, I’ve tried that, and I’ve realized that it doesn’t really work for me. I’m just not disciplined enough – often get distracted by surfing the web, or doing errands and chores.</p>

<p>Even if you prefer working through your problems alone, rather than working in teams, going to a school can still be a great option, because it can really supercharge your learning.</p>

<p>Having passionate instructors who  imbue you with enthusiasm, and guide you through programming pitfalls for beginners, and instilling best practices, really make a difference.</p>

<p>Although I’m not a natural ‘group’ person because I learn best by doing, and often like to figure things out on my own – I’ve really enjoyed group learning in my first week at Flatiron School.</p>

<p>Getting different perspectives or solutions to problems from classmates has been enlightening. When I’m stuck on something, instead of spending hours on it, I can ask an instructor or a fellow classmate for help. When I get tired or discouraged, there’s always someone else to buoy me up and debug my code with me. – It’s a very different experience from sitting alone at my desk and banging my head on the wall.</p>

<p>So if you feel like you’re going nowhere fast with learning on your own, try pairing up, or learning in a group, or signing up to a school.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[All equalities are equal...]]></title>
    <link href="http://ei-lene.github.com/blog/2013/02/08/all-equalities-are-equal/"/>
    <updated>2013-02-08T22:02:00-05:00</updated>
    <id>http://ei-lene.github.com/blog/2013/02/08/all-equalities-are-equal</id>
    <content type="html"><![CDATA[<h3><em>&#8230;but some are more equal than others</em></h3>


<p>I started on this trail because I&#8217;m a pedant about spelling, and got stuck on <a href="http://rubymonk.com/learning/books/1/chapters/8-control-structures/lessons/43-boolean-expressions-in-ruby">Ruby Monk&#8217;s first Boolean exercise</a>.</p>

<p>Why was the following solution invalid >> <code>name.equal?("Bob")</code> <br>
and this solution valid instead? >> <code>name.eql?("Bob")</code></p>

<p>This set me off researching Ruby equality operators.<br>
There seems to be four types of equality operators:-<br>
<a href="#==">&#8217;==&#8217;</a><br>
<a href="#eql">&#8216;.eql?&#8217;</a><br>
<a href="#equal">&#8216;.equal?&#8217;</a><br>
<a href="#===">&#8217;===&#8217;</a></p>

<p>And so it would seem, to misquote George Orwell, that some equalities are more equal than others.</p>

<!--more-->


<p><a name="=="><strong>==</strong></a><br>
<strong>Simple (or Value) equality.</strong><br>
<em><code>==</code> returns true if both sides of the operator have the same value, regardless of datatype.</em></p>

<p>Thus:<br>
<img src="http://ei-lene.github.com/images/2013_02_08/ValueEquality1.png"></p>

<p>However, the Ruby <code>==</code> operator is not quite as forgiving its Javascript counterpart. It does not convert strings to integers, nor does it recognise upper and lower case versions of the same letter as being of the same value.</p>

<p>Therefore:<br>
<img src="http://ei-lene.github.com/images/2013_02_08/ValueEquality2.png"></p>

<p><a name="eql"><strong>.eql?</strong></a><br>
<strong>Value and Type Equality</strong><br>
<em><code>.eql?</code> has stricter equality criteria than <code>==</code>. It tests for equality of value as well as data type.</em></p>

<p>Hence:<br>
<img src="http://ei-lene.github.com/images/2013_02_08/ValueTypeEquality.png"></p>

<p><a name="equal"><strong>.equal?</strong></a><br>
<strong>Strict (True or Object) Equality</strong><br>
<em><code>.equal?</code> has the strictest test of equality*, and is &#8220;the most equal of them all&#8221;. It tests for equality of object ID.</em></p>

<p>As a newbie Rubyist at <a href="http://flatironschool.com/">the Flatiron School</a>, I have very recently learnt that all strings (even if identical) have their own individual object ID each time they are written (called?), whereas symbols have a unique and immutable object ID, which will remain each time the symbol is called, even if the value has been reassigned.</p>

<p>The moral of the story was that we should only use symbols (and never strings) as keys in hashes, since they are &#8216;cheaper&#8217; than strings in terms of memory and performance (in fact, in researching this, I have discovered that object IDs would be another interesting post for another day, but I digress&#8230;)</p>

<p><a href="http://french.about.com/od/vocabulary/a/revenonsanosmoutons.htm">Revenons à nos moutons</a>** - it would seem that this equality test would be passed in fairly limited cases - primarily when symbols or integers are tested against themselves***:<br>
<img src="http://ei-lene.github.com/images/2013_02_08/ObjectEquality.png"></p>

<p><a name="==="><strong>===</strong></a><br>
<strong>Case Equality (or &#8220;Subset equality&#8221; or &#8220;False Equality&#8221;)</strong></p>

<p>Okay, so I&#8217;ve completely made up the equality names in the parenthesis for this. For that matter, all the equality names for all the other operators are also kind of &#8216;made-up&#8217; by me, but in those cases, I think they are fairly representative of what those equality operators test for.</p>

<p><em><code>===</code> is generally known everywhere, including <a href="http://ruby-doc.org/core-1.9.3/Object.html#method-i-3D-3D-3D">in the Ruby documentation</a>, as &#8220;Case equality&#8221;.</em></p>

<p>I thought that <a href="http://techbot.me/2011/05/ruby-basics-equality-operators-ruby/">Techbot</a> and <a href="http://www.tutorialspoint.com/ruby/ruby_operators.htm
">TutorialsPoint</a> gave the best illustrations of the Case Equality usage of <code>===</code>, which I will illustrate briefly below:<br>
<img src="http://ei-lene.github.com/images/2013_02_08/SubsetCaseEquality1.png"></p>

<p>While I agree with the above usage (it clearly works!), I see things more simplistically. To me, the <code>===</code> operator seems to test if the item on right hand side of the operator is a subset of the left hand side of the operator.</p>

<p>For example: <br>
<img src="http://ei-lene.github.com/images/2013_02_08/SubsetCaseEquality2.png"></p>

<p>The <code>===</code> operator doesn&#8217;t seem to test for subset in the cases of strings, arrays and hashes, but it works with Regex:<br>
<img src="http://ei-lene.github.com/images/2013_02_08/SubsetCaseEquality3.png"></p>

<p>Anyway, because I think <code>===</code> is testing if one element (object?) is a subset of another, I don&#8217;t think that it can be considered an equality test at all, hence my nickname of &#8220;False Equality&#8221; for it.</p>

<p><a href="http://stackoverflow.com/users/23649/jtbandes">jtbandes</a> says on <a href="stackoverflow.com">StackOverflow</a> that <code>===</code> is incredibly useful for implementations in range, regex and proc (and people seem to compare it to the #== operator), but since all that is WAY over my head, I&#8217;ll just take his word for it, and you can <a href="http://stackoverflow.com/questions/7156955/whats-the-difference-between-equal-eql-and">check it out there</a>.</p>

<p>After all this research, I&#8217;m kind of at peace with Ruby&#8217;s misspelling of <code>.eql?</code>, because I can see that it is necessary to differentiate it from <code>.equal?</code></p>

<p>But I&#8217;m still annoyed with <code>elsif</code>… >:(</p>

<p style="font-size: 70%; font-weight: normal">
Notes:<br>
* In my rather-uninformed opinion (as I&#8217;m an absolute newbie), I am more than happy to be enlightened if I&#8217;ve made any mistakes in my blog post.<br>
** A French expression for - to get back to the subject. <a href="http://french.about.com/od/vocabulary/a/revenonsanosmoutons.htm">Check out Laura Lawless&#8217;s guide to French expressions</a>.<br>
*** I&#8217;m finding Object IDs pretty fascinating as I&#8217;ve called .object_id on multiple permutations of data types as part of the research for this blog post. I might write about this piece of geekery fascination another day. Also happy to be enlightened/ corrected if I&#8217;ve made any mistakes.

<p style="font-size: 70%; font-weight: normal">
Resources:<br>
<a href="http://truffles.me.uk/rubys-equality-operator">http://truffles.me.uk/rubys-equality-operator</a><br>
<a href="http://techbot.me/2011/05/ruby-basics-equality-operators-ruby/">http://techbot.me/2011/05/ruby-basics-equality-operators-ruby/</a><br>
<a href="http://www.tutorialspoint.com/ruby/ruby_operators.htm">http://www.tutorialspoint.com/ruby/ruby_operators.htm</a><br>
<a href="http://ruby-doc.org/core-1.9.3/Object.html"> http://ruby-doc.org/core-1.9.3/Object.html</a><br>
<a href="http://stackoverflow.com/questions/7156955/whats-the-difference-between-equal-eql-and"> http://stackoverflow.com/questions/7156955/whats-the-difference-between-equal-eql-and</a>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Hello world]]></title>
    <link href="http://ei-lene.github.com/blog/2013/02/05/hello-world/"/>
    <updated>2013-02-05T17:59:00-05:00</updated>
    <id>http://ei-lene.github.com/blog/2013/02/05/hello-world</id>
    <content type="html"><![CDATA[<p>Starting from zero.</p>

<p>Avi gave a talk on the History of Code at today, and one of the programmers he quoted was <a href="http://en.wikipedia.org/wiki/Larry_Wall">Larry Wall</a>, who once said, tongue-in-cheek, that:</p>

<blockquote>The three chief virtues of a programmer are: Laziness, Impatience and Hubris.</blockquote>


<p>On that basis, I definitely qualify! ;)</p>
]]></content>
  </entry>
  
</feed>
